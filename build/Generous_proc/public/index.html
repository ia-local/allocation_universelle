<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVNU | CV Numérique Universel & Monétisation de Compétences IA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav id="mainNavbar" class="smart-navbar-top-fixed">
        <div class="navbar-brand">
            <h1 class="app-title-navbar"><i class="fas fa-id-card-alt"></i> CVNU</h1>
        </div>

        <div class="navbar-main-links">
            <a href="#home" class="nav-link active" data-section="home"><i class="fas fa-home"></i> Accueil</a>
            <a href="#dashboard" class="nav-link" data-section="dashboard"><i class="fas fa-chart-line"></i> Tableau de Bord</a>
            <a href="#chat" class="nav-link" data-section="chat"><i class="fas fa-comments"></i> Chat IA</a>
            <a href="#cv-management" class="nav-link" data-section="cv-management"><i class="fas fa-file-alt"></i> Gestion du CV</a>
            <a href="#about" class="nav-link" data-section="about"><i class="fas fa-info-circle"></i> À Propos</a>
        </div>

        <div class="navbar-profile-actions">
            <button class="btn btn-icon-text-compact">
                <i class="fas fa-user-circle"></i> <span>Profil</span>
            </button>
            <button class="btn btn-icon-text-compact">
                <i class="fas fa-cog"></i> <span>Paramètres</span>
            </button>
        </div>
    </nav>

    <div id="appMainContainer" class="main-container">
        <aside id="dynamicLeftNav" class="dynamic-left-nav">
            <nav class="dynamic-nav-list">
                </nav>
        </aside>

        <main id="contentArea" class="content-area">

            <section id="home" class="content-section active">
                <h2>Bienvenue sur CVNU</h2>
                <p>Votre plateforme pour un CV numérique universel et la monétisation intelligente de vos compétences IA.</p>
                <div class="ia-interaction-panel card">
                    <h3>Interactions IA ponctuelles</h3>
                    <div class="form-group">
                        <label for="promptInput">Votre prompt IA :</label>
                        <textarea id="promptInput" rows="5" placeholder="Entrez votre question ou votre tâche pour l'IA..."></textarea>
                    </div>
                    <div class="button-row">
                        <button id="generateResponseBtn" class="btn btn-primary"><i class="fas fa-robot"></i> Générer la Réponse</button>
                        <button id="clearPromptBtn" class="btn btn-secondary"><i class="fas fa-eraser"></i> Effacer</button>
                    </div>
                    <div class="ia-response-output card" id="iaResponseOutput">
                        <pre>La réponse de l'IA apparaîtra ici...</pre>
                    </div>
                </div>
            </section>

            <section id="dashboard" class="content-section">
                <h2>Tableau de Bord UTMi & Activité</h2>
                <div class="button-row">
                    <button id="refreshDashboardBtn" class="btn btn-primary"><i class="fas fa-sync-alt"></i> Actualiser les données</button>
                </div>
                <div class="dashboard-grid">
                    <div class="metric-card">
                        <h3>Capital de Départ</h3>
                        <p class="metric-value"><span id="initialCapital">0.00</span> €</p>
                    </div>
                    <div class="metric-card">
                        <h3>Revenu Universel Mensuel (RUM)</h3>
                        <p class="metric-value"><span id="monthlyUniversalIncome">0.00</span> €</p>
                    </div>
                    <div class="metric-card">
                        <h3>Solde de Trésorerie</h3>
                        <p class="metric-value"><span id="treasuryBalance">0.00</span> €</p>
                    </div>
                    <div class="metric-card">
                        <h3>Total UTMi</h3>
                        <p class="metric-value"><span id="totalUtmi">0.00</span> UTMi</p>
                    </div>
                    <div class="metric-card">
                        <h3>Coût Total Estimé (USD)</h3>
                        <p class="metric-value"><span id="totalEstimatedCostUSD">0.000000</span> $</p>
                    </div>
                    <div class="metric-card">
                        <h3>Coût Total Estimé (EUR)</h3>
                        <p class="metric-value"><span id="totalEstimatedCostEUR">0.000000</span> €</p>
                    </div>
                    <div class="metric-card">
                        <h3>Interactions Totales</h3>
                        <p class="metric-value"><span id="totalInteractionCount">0</span></p>
                    </div>
                    <div class="metric-card">
                        <h3>UTMi/Interaction Moy.</h3>
                        <p class="metric-value"><span id="averageUtmiPerInteraction">0.00</span></p>
                    </div>
                    <div class="metric-card">
                        <h3>Ratio UTMi/Coût</h3>
                        <p class="metric-value"><span id="totalUtmiPerCostRatio">0.00</span></p>
                    </div>
                </div>

                <div class="chart-container card">
                    <canvas id="mainFinancialChart"></canvas>
                </div>

                <div class="dashboard-details-grid">
                    <div class="card">
                        <h3>UTMi par Type d'Interaction</h3>
                        <ul id="utmiByType">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>UTMi par Modèle IA</h3>
                        <ul id="utmiByModel">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Ratio UTMi/Coût par Modèle</h3>
                        <ul id="utmiPerCostRatioByModel">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>UTMi par Axe Cognitif</h3>
                        <ul id="utmiByCognitiveAxis">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>UTMi Thématique (Marketing)</h3>
                        <ul id="thematicUtmiMarketing">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>UTMi Thématique (Affiliation)</h3>
                        <ul id="thematicUtmiAffiliation">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>UTMi Thématique (Fiscal/Économique)</h3>
                        <ul id="thematicUtmiFiscalEconomic">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Top 5 Thèmes les plus valorisés</h3>
                        <ul id="mostValuableTopics">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Top 5 Activités les plus courantes</h3>
                        <ul id="mostCommonActivities">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Taux de Change Actuels</h3>
                        <ul id="exchangeRates">
                            <li>Aucune donnée.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="chat" class="content-section">
                <h2>Chatbot Conversationnel IA</h2>
                <div class="chat-content-layout">
                    <div class="conversation-list-container card">
                        <h3>Conversations</h3>
                        <div class="button-row chat-controls">
                            <button id="newConversationBtn" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Nouvelle Conv.</button>
                            <button id="refreshConversationsBtn" class="btn btn-secondary"><i class="fas fa-sync-alt"></i> Actualiser</button>
                        </div>
                        <ul id="chatConversationList" class="conversation-list">
                            <li>Chargement...</li>
                        </ul>
                        <div class="pagination-controls" id="conversation-pagination">
                            <button id="prevConversationPageBtn" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Précédent</button>
                            <span id="currentConversationPageInfo" class="page-info">Page 0/0</span>
                            <button id="nextConversationPageBtn" class="btn btn-secondary">Suivant <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    <div class="chat-window-container card">
                        <div id="chatMessages" class="chat-messages">
                            </div>
                        <div class="chat-input-area">
                            <textarea id="chatInput" rows="3" placeholder="Tapez votre message ici..."></textarea>
                            <div class="chat-file-upload">
                                <label for="fileInput" class="btn btn-secondary">
                                    <i class="fas fa-paperclip"></i> Attacher fichier
                                </label>
                                <input type="file" id="fileInput" style="display: none;">
                                <span id="fileDisplaySpan">Aucun fichier</span>
                            </div>
                            <button id="chatSendButton" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Envoyer</button>
                        </div>
                        <div id="chatStatusMessage" class="status-message" role="status" aria-live="polite"></div>
                    </div>
                </div>
            </section>

            <section id="cv-management" class="content-section">
                <h2>Gestion de votre CV Numérique</h2>
                <div class="cv-generation-panel card">
                    <h3>Générer/Mettre à jour le CV</h3>
                    <div class="form-group">
                        <label for="cvInput">Entrez votre texte de CV brut ou des notes :</label>
                        <textarea id="cvInput" rows="10" placeholder="Copiez-collez ici le contenu de votre CV existant, des informations pertinentes sur votre parcours, vos compétences, expériences, etc. L'IA structurera ces données pour créer ou mettre à jour votre CVNU."></textarea>
                    </div>
                    <div class="button-row">
                        <button id="generateCvBtn" class="btn btn-primary"><i class="fas fa-cogs"></i> Générer CV Structuré</button>
                        <button id="importCvFileBtn" class="btn btn-secondary"><i class="fas fa-file-import"></i> Importer Fichier CV</button>
                        <input type="file" id="actualCvFileInput" style="display: none;">
                    </div>
                    <div class="cv-output-area card">
                        <h3>Structure JSON du CV (Prévisualisation)</h3>
                        <pre id="cvOutput"><code>Votre CV structuré apparaîtra ici au format JSON.</code></pre>
                        <div class="button-row">
                            <button id="saveCvBtn" class="btn btn-success"><i class="fas fa-save"></i> Enregistrer CV</button>
                            <button id="downloadCvBtn" class="btn btn-info"><i class="fas fa-download"></i> Télécharger JSON</button>
                            <button id="editCvBtn" class="btn btn-warning"><i class="fas fa-edit"></i> Editer Manuellement</button>
                        </div>
                    </div>
                </div>
                <div class="cvnu-insights-panel card">
                    <h3>Insights CVNU</h3>
                    <div class="cvnu-metrics">
                        <div class="metric-item">
                            <h4>Valeur Initiale CVNU</h4>
                            <p class="metric-value"><span id="cvnuInitialValue">0.00</span> points</p>
                        </div>
                        <div class="metric-item">
                            <h4>Niveau CVNU</h4>
                            <p class="metric-value"><span id="cvnuLevel">N/A</span></p>
                        </div>
                        <div class="metric-item">
                            <h4>Revenu Universel Mensuel Estimé</h4>
                            <p class="metric-value"><span id="cvnuEstimatedMonthlyIncome">0.00</span> €</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="about" class="content-section">
                <h2>À Propos de CVNU</h2>
                <div class="card">
                    <p>CVNU est une plateforme innovante qui révolutionne la manière dont vous présentez et valorisez vos compétences à l'ère de l'intelligence artificielle. Grâce à notre moteur UTMi (Unités Temporelles Monétisables), chaque interaction avec l'IA devient une opportunité de monétisation et d'optimisation de votre parcours professionnel.</p>
                    <p>Développé avec passion pour l'innovation et l'efficacité, CVNU est votre partenaire pour une carrière boostée par l'IA.</p>
                </div>
            </section>

        </main>
    </div>

    <footer class="app-footer">
        <p>&copy; 2024 CVNU. Tous droits réservés.</p>
        <div class="social-links">
            <a href="#" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
            <a href="#" class="social-icon" title="Twitter"><i class="fab fa-twitter-square"></i></a>
            <a href="#" class="social-icon" title="GitHub"><i class="fab fa-github-square"></i></a>
            <a href="#" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
    </footer>

    <div id="genericAppModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="genericModalTitle">Titre du Modal</h3>
                <button class="close-modal-btn" id="genericCloseModalBtn"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" id="genericModalBody">
                <p>Contenu du modal.</p>
            </div>
            <div class="modal-footer" id="genericModalFooter">
                <button id="genericModalConfirmBtn" class="btn btn-primary" style="display:none;">Confirmer</button>
                <button id="genericModalCancelBtn" class="btn btn-secondary" style="display:none;">Annuler</button>
                <button id="genericModalOkBtn" class="btn btn-primary" style="display:none;">OK</button>
            </div>
        </div>
    </div>

    <div id="globalStatusMessage" class="status-message" role="status" aria-live="polite"></div>

    <script type="module" src="modal.js"></script>
    <script type="module" src="pagination.js"></script>
    <script type="module" src="cv.js"></script>
</body>
</html>